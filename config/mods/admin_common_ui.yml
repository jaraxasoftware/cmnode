version: 1.0
type: module
category: ui
name: admin_common_ui
spec:
  encoders:
    sidebar_icon:
      view:
        tag: div
        attrs:
          class: "sidebar-icon c-hand"
          onclick:
            from: name
          key: 
            from: name
        children:
          - tag: i
            attrs:
              class: 
                from: style
          - tag: div
            attrs:
              class: "mt-1"
            children:
              - text:
                  from: title
    admin_sidebar:
      view:
        tag: div
        attrs:
          class: "text-center"
          key: "sidebar"
        children:
          - view: sidebar_icon
            params:
              object:
                name: "apps"
                style: "fa fa-4x fa-flask"
                title: "Apps"
          - view: sidebar_icon
            params:
              object:
                name: "ports"
                style: "fa fa-4x fa-rss"
                title: "Ports"
          - view: sidebar_icon
            params:
              object:
                name: "tables"
                style: "fa fa-4x fa-database"
                title: "Tables"
          - view: sidebar_icon
            params:
              object:
                name: "nodes"
                style: "fa fa-4x fa-desktop"
                title: "Nodes"
          - view: sidebar_icon
            params:
              object:
                name: "users"
                style: "fa fa-4x fa-users"
                title: "Users"
          - view: sidebar_icon
            params:
              object:
                name: "metrics"
                style: "fa fa-4x fa-area-chart"
                title: "Metrics"
          - view: sidebar_icon
            params:
              object:
                name: "bugs"
                style: "fa fa-4x fa-bug"
                title: "Bugs"
    layout:
      view:
        tag: div
        attrs:
          class: "off-canvas"
          key: "layout"
        children:
          - tag: div
            attrs:
              id: "sidebar"
              class: "off-canvas-sidebar active"
            children:
              - view: admin_sidebar
          - tag: div
            attrs:
              class: "off-canvas-content"
            children:
              - view: user_message
                params:
                  object:
                    message:
                      from: message
              - view:
                  from: content_view
                params:
                  object:
                    data:
                      from: contents
    main:
      view:
        tag: div
        attrs:
          key: 
            from: view 
        children:
          - tag: h2
            attrs:
              class: "content-view"
            children:
              - text:
                  from: title
          - view:
              from: view
            params:
              object:
                data:
                  from: data

    section:
      view:
        tag: div
        attrs:
          key: 
            from: view 
        children:
          - tag: section
            attrs:
              class: "section-view"
            children:
              - view:
                  from: view
                params:
                  object:
                    data:
                      from: data
    table:
      view: 
        tag: div
        attrs:
          class: "table-view"
        children:
          - tag: table
            children:
              - tag: thead
                children:
                  loop:
                    from: headers
                  with: table_header
              - tag: tbody
                children:
                  loop:
                    from: items
                  with:
                    from: item_view

    table_header:
      view:
        tag: th
        children:
          - text:
              from: title
              at: item
