version: 1.0
type: module
category: client
name: common_ui_controls
spec:
  encoders:
    avatar:
      view:
        tag: figure
        attrs:
          class:
            format:
              pattern: "avatar avatar-~a c-hand"
              params:
                - key: size
          data-initial:
            key: initials
          onclick:
            object:
              name: "show-user"
              id: "ebca3cd4-8a5c-42bd-8676-6a1cc7e085c9"
        children:
          - tag: i
            attrs:
              class: "avatar-presence online"
    status-label:
      view:
        tag: span
        attrs:
          class: 
            format:
              pattern: "label label-~a"
              params:
                - key: style
        children:
          - text: 
              key: title
    default-status-label:
      view:
        view: status-label
        params:
          object:
            style: "default"
            title:
              key: title 
    label:
      view:
        tag: label
        attrs:
          class: "form-label"
        children:
          - text: 
              key: title
    text:
      view:
        tag: div
        attrs:
          key: 
            key: id
          class: "form-group"
        children:
          - tag: label
            attrs:
              class: "form-label"
              for: 
                key: id
            children:
              - text: 
                  key: title
          - tag: textarea
            attrs:
              class: "form-input"
              type: "text"
              id: 
                key: id
              placeholder: 
                key: title
              onchange:
                key: id
              value:
                key: value
              rows:
                key: rows
    input:
      view:
        tag: div
        attrs:
          key: 
            key: id
          class: "form-group"
        children:
          - tag: label
            attrs:
              class: "form-label"
              for: 
                key: id
            children:
              - text: 
                  key: title
          - tag: input
            attrs:
              class: "form-input"
              type: "text"
              id: 
                key: id
              placeholder: 
                key: placeholder
              onchange:
                key: id
              value:
                key: value
          - tag: small
            attrs:
              class: "help"
            children:
              - text:
                  key: help
    password:
      view:
        tag: div
        attrs:
          key: 
            key: id
          class: "form-group"
        children:
          - tag: label
            attrs:
              class: "form-label"
              for: 
                key: id
            children:
              - text: 
                  key: title
          - tag: input
            attrs:
              class: "form-input"
              type: "password"
              id: 
                key: id
              placeholder: 
                key: placeholder
              onchange:
                key: id
              value:
                key: value
          - tag: small
            attrs:
              class: "help"
            children:
              - text:
                  key: help
    primary_button:
      view:
        view: button
        params:
          object:
            style: "primary"
            title:
              key: title
            onclick:
              key: onclick
    button:
      view:
        tag: button
        attrs:
          onclick:
            key: onclick
          class: 
            format: 
              pattern: "btn ~a"
              params:
                - key: style
        children:
          - text: 
              key: title
    link:
      view:
        tag: div
        attrs:
          onclick:
            key: click
          key: 
            key: id
        children:
          - tag: a
            attrs:
              href: "#"
            children:
              - text: 
                  key: title
    progressbar:
      view:
        tag: div
        attrs:
          class: "bar bar-sm"
        children:
          - tag: div
            attrs:
              class: "bar-item"
              role: "progressbar"
              aria-valuenow: 
                key: value
              aria-valuemin: 0
              aria-valuemax:
                key: max
              style: 
                format:
                  pattern: "width: ~a%;"
                  params:
                    - percentage:
                        num:
                          key: value
                        den:
                          key: max
