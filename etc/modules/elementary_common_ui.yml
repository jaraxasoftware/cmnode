version: 1.0
type: module
category: ui
name: elementary_common_ui 
spec:
  encoders:
    icon_label:
      view:
        tag: span
        attrs:
          class: "icon-label"
        children:
          - tag: i
            attrs:
              class:
                key: icon
          - tag: span
            attrs:
              class: "mx-2"
            children:
              - text:
                  key: title
    action_button:
      view:
        tag: a
        attrs:
          class: 
            format:
              pattern: "icon-label-action ~a"
              params:
                - text: 
                    either:
                      - when:
                          eq:
                            - key: active
                            - keyword: true
                        text: "active"
                      - text: ""
          onclick:
            key: id
        children:
          - view: icon_label
            params:
              object:
                icon:
                  key: icon
                title:
                  key: title
    external_link:
      view:
        tag: a
        attrs:
          href:
            key: url
        children:
          - view: icon_label
            params:
              object:
                icon:
                  key: icon
                title:
                  key: title
    button:
      view:
        tag: button
        attrs:
          class: 
            format: 
              pattern: "btn btn-~a btn-~a"
              params:
                - key: style
                - key: size
          onclick:
            key: click
        children:
          - view: icon_label
            params:
              object:
                icon:
                  key: icon
                title:
                  key: title
    nav_item_view:
      view:
        tag: li
        attrs:
          class: "nav-item"
        children:
          - view: icon_label
            params:
              key: item
    nav_view:
      view:
        tag: ul
        attrs:
          class: "nav"
        children:
          loop: 
            key: items
          with: nav_item_view
    main_menu_view:
      view: 
        view: actions_view
        params:
          object:
            style: "header-action"
            items:
              list:
                - object:
                    type: action_button
                    icon: "fas fa-home"
                    title: "Home"
                    id: "home"
                    style: ""
                    active:
                      equal:
                        - text: "home_view"
                        - key: selected
                    visible:
                      keyword: true
                - object:
                    type: action_button
                    icon: "fas fa-book-open"
                    title: "Guide"
                    id: "guide"
                    style: ""
                    active:
                      equal:
                        - text: "guide_view"
                        - key: selected
                    visible:
                      keyword: true
                - object:
                    type: external_link 
                    icon: "fab fa-github"
                    title: "Github"
                    url: "https://github.com/pedro-gutierrez/elementary"
                    style: ""
                    visible:
                      keyword: true
    action_view:
      view:
        tag: div
        attrs:
          class: 
            format:
              pattern: "action ~a ~a ~a"
              params:
                - key: style
                  in: context
                - text:
                    either:
                      - when:
                          eq:
                            - key: visible
                              in: item
                            - keyword: false
                        text: "hidden"
                      - text: ""
                - key: style
                  in: item
        children:
          - view:
              key: type
              in: item
            params:
              key: item
    actions_view:
      view:
        tag: div
        attrs:
          class: "actions"
        children:
          loop: items
          with: action_view
          context:
            object:
              style:
                key: style
    header_view:
      view:
        tag: header
        attrs:
          class: "header section"
        children:
          - tag: div
            attrs:
              class: "menu-items"
            children:
              - view: main_menu_view
                params:
                  object:
                    selected:
                      key: content_view
    footer_view:
      view:
        tag: footer
        attrs:
          class: "section"
        children:
          - tag: span
            children:
              - text: "Designed with " 
              - tag: i
                attrs:
                  class: "fas fa-heart"
              - text: " by "
              - tag: a
                attrs:
                  href: "https://themes.3rdwavemedia.com"
                children:
                  - text: "Xiaoying Riley"
              - text: " for developers"
              - tag: br
              - text: "Built with ElementaryJS"
    subsubtitle_view:
      view:
        tag: h4
        attrs:
          class: "subsubtitle"
        children:
          - text:
              key: text
    paragraph_view:
      view:
        tag: p
        attrs:
          class: "paragraph"
        children:
          - text:
              key: text
    layout_view: 
      view:
        tag: div
        attrs:
          class:
            format: 
              pattern: "layout ~a"
              params:
                - key: theme
        children:
          - view: header_view
            params:
              object:
                content_view:
                  key: content_view
          - tag: div
            attrs:
              class: "content"
            children:
              - view:
                  key: content_view
                params:
                  key: content
          - view: footer_view
            params: {}
