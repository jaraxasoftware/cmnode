version: 1.0
type: module
category: client
name: html_ui_common
spec:
  views:
    highlighted:
      tag: span
      attrs:
        class: "highlighted"
      children:
        - text:
            key: text
    link:
      tag: a
      attrs:
        class:
          key: style
        href: 
          key: target
      children:
        - tag: i
          attrs:
            class: 
              key: icon
        - text:
            key: title
    menu-item:
      tag: li
      attrs:
        class:
          either:
            - when:
                eq:
                  - key: active
                    in: context
                  - key: title
                    in: item
              text: "active"
            - text: ""
      children:
        - view: link
          params:
            key: item
    menu:
      tag: nav
      children:
        - tag: ul
          children:
            loop: items
            with: menu-item
            context:
              object:
                active:
                  key: active
    section:
      tag: section
      attrs:
        class:
          format: 
            pattern: "~s ~s"
            params:
              - key: name
                in: item
              - key: style
                in: item
      children:
        - view:
            key: name
            in: item
    stylesheet:
      tag: link
      attrs:
        rel: "stylesheet"
        href:
          format: 
            pattern: "/css/~s.css"
            params:
              - key: name
                in: item
    script:
      tag: script
      attrs:
        src: 
          format: 
            pattern: "/js/~s.js"
            params:
              - key: name
                in: item
        type:
          key: type
          in: item
    html:
      tag: html
      children:
        - tag: head
          attrs:
            lang: "en"
          children:
            - tag: title
              children:
                - text:
                    format:
                      pattern: "~s - ~s"
                      params:
                        - key: title
                        - key: subtitle
            - tag: meta
              attrs:
                charset: "utf-8"
            - tag: meta
              attrs:
                name: "robots"
                content: "index, follow"
            - tag: meta
              attrs:
                name: "viewport"
                content: "width=device-width, initial-scale=1.0, shrink-to-fit=no"
            - tag: meta
              attrs:
                http-equiv: "x-ua-compatible"
                content: "ie=edge"
            - tag: meta
              attrs:
                name: "author"
                content: "Pedro Gutierrez"
            - tag: meta 
              attrs:
                name: "description"
                content: "ElementaryJS is a new Javascript library for building user interfaces in a declarative and functional fashion. Inspired from Elm."
            - tag: link
              attrs:
                rel: "sitemap"
                type: "text/plain"
                title: "Sitemap"
                href: "/sitemap.txt"
            - loop: stylesheets
              with: stylesheet
            - loop: scripts
              with: script
        - tag: body
          attrs:
            class:
              key: layout
          children:
            - tag: header
              children:
                - view: menu
                  params:
                    object:
                      active:
                        key: active
                        in:
                          key: menu
                          in: header
                      items:
                        key: items
                        in: 
                          key: menu
                          in: header
            - tag: main
              attrs:
                class: "columns"
              children:
                loop: sections
                with: section
            - tag: footer
              children:
                - view: footer
